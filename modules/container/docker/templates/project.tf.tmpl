# This file was generated by StackHead. Do not modify it.

resource "docker_network" "stackhead-network-{{ $.Context.Project.Name }}" {
  provider = docker.{{ $.Context.Project.Name }}
  name = "stackhead-network-{{ $.Context.Project.Name }}"
}

resource "docker_container" "stackhead-{{ $.Context.Project.Name }}-{{ $service.Name }}" {
{{- if $service.Hooks }}
  {{- if $service.Hooks.ExecuteAfterSetup }}
    provisioner "local-exec" {
      command = "docker cp {{ $.DockerPaths.GetHooksDir }}/afterSetup_{{ base $service.Hooks.ExecuteAfterSetup }} stackhead-{{ $.Context.Project.Name }}-{{ $service.Name }}:/afterSetup_{{ base $service.Hooks.ExecuteAfterSetup }} && docker exec stackhead-{{ $.Context.Project.Name }}-{{ $service.Name }} sh /afterSetup_{{ base $service.Hooks.ExecuteAfterSetup }}"
    }
  {{- end }}
{{- end }}
}
{{end}}
